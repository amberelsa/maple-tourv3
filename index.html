<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <!-- é—œéµï¼šè¨­ç½® maximum-scale=5.0 å…è¨±ç€è¦½å™¨ç¸®æ”¾ï¼Œä¸¦é˜²æ­¢é è¨­ç¸®æ”¾è¡Œç‚ºå¹²æ“¾è‡ªè¨‚è…³æœ¬ -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>æ¢¨å±±æ­¦é™µè³æ¥“äºŒæ—¥éŠ - æ”¯æ´ç¸®æ”¾</title>
    <!-- å¼•å…¥ Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- å¼•å…¥ Font Awesome åœ–ç¤º -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap');
        
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #fcf8f3;
            -webkit-tap-highlight-color: transparent;
        }
        
        /* TimeLine Styles (Omitted for brevity, preserved structure) */
        .timeline-line {
            position: absolute;
            left: 24px;
            top: 0;
            bottom: 0;
            width: 3px;
            background-color: #fde68a;
            z-index: 0;
        }

        .maple-highlight {
            background: linear-gradient(135deg, #fffbeb 0%, #fff 100%); 
            border-left: 5px solid #991b1b;
        }
        
        .transport-highlight {
            border-left: 5px solid #2563eb; 
        }

        .event-card {
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.08);
            position: relative; 
            z-index: 10;
        }

        /* Note Area Styles (Omitted for brevity, preserved structure) */
        .note-area {
            background-color: #fffbeb;
            border: 1px dashed #fcd34d;
        }

        /* åœ–ç‰‡ç‡ˆç®±æ¨£å¼ - ä¿®æ­£ç‚ºå¯ç¸®æ”¾æ‹–æ›³ */
        .lightbox {
            display: none;
            position: fixed;
            z-index: 99999;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.95);
            justify-content: center;
            align-items: center;
            overflow: hidden;
            /* è®“ä½¿ç”¨è€…å¯ä»¥æ“ä½œåœ–ç‰‡ï¼Œè€Œä¸æ˜¯ç€è¦½å™¨æ»¾å‹• */
            touch-action: none; 
        }
        .lightbox.active {
            display: flex;
            animation: fadeIn 0.25s ease-out;
        }
        .lightbox-img {
            /* ç§»é™¤ max-width/height é™åˆ¶ï¼Œæ”¹ç”± JS æ“æ§ç¸®æ”¾ */
            max-width: unset; 
            max-height: unset;
            width: auto; /* é è¨­åœ–ç‰‡å°ºå¯¸ */
            height: auto;
            /* å•Ÿç”¨ç¡¬é«”åŠ é€Ÿï¼Œè®“ç¸®æ”¾æ›´é †æš¢ */
            will-change: transform; 
            transition: transform 0.1s linear; 
            cursor: grab;
            user-select: none;
        }
        .lightbox-close {
            position: absolute;
            top: 20px;
            right: 20px;
            color: white;
            background: rgba(0,0,0,0.6);
            width: 50px; 
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            cursor: pointer;
            z-index: 100000;
            border: 2px solid rgba(255,255,255,0.4);
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
            transition: all 0.2s;
        }
        /* ä¿®æ­£ç¸½è¡¨åœ–ç‰‡é»æ“Šå€åŸŸ */
        .img-container {
            position: relative;
            overflow: hidden;
        }
        .img-zoom-hint {
            pointer-events: none; 
        }

        /* ç¢ºä¿ç¸½è¡¨åœ–ç‰‡é»æ“Šå€åŸŸæ­£ç¢º */
        .top-image-button {
             z-index: 40;
             pointer-events: auto;
        }
    </style>
</head>
<body class="text-gray-700">

    <!-- Hero Header -->
    <header class="bg-gradient-to-r from-amber-700 to-red-800 text-white shadow-xl relative z-0">
        <div class="container mx-auto px-4 py-12 pb-28 text-center">
            <h1 class="text-3xl md:text-5xl font-extrabold mb-3 tracking-wide">
                <i class="fas fa-leaf mr-4 text-yellow-300 transform rotate-45"></i>
                æ¢¨å±±æ­¦é™µæš–ç§‹è³æ¥“äºŒæ—¥éŠ
            </h1>
            <p class="text-lg opacity-95 font-light">12/2 (ä¸€) â€” 12/3 (äºŒ)ï½œé«˜å±±ç´…è‘‰ä¹‹æ—…</p>
        </div>
    </header>

    <!-- è¡Œç¨‹ç¸½è¡¨åœ–ç‰‡å€å¡Š (ç½®é ‚æ’å…¥) -->
    <div class="container mx-auto px-4 -mt-20 relative z-40 mb-8 max-w-4xl isolate pointer-events-none">
        <button type="button" 
                class="top-image-button w-full text-left bg-white p-2 rounded-2xl shadow-2xl transform transition active:scale-[0.98] cursor-pointer focus:outline-none focus:ring-4 focus:ring-amber-500/50" 
                onclick="openLightbox('è¡Œç¨‹è¡¨.jpg')"
                style="touch-action: manipulation;">
            <div class="img-container rounded-xl overflow-hidden bg-gray-100 relative group">
                <img src="è¡Œç¨‹è¡¨.jpg" alt="è¡Œç¨‹ç¸½è¡¨" class="w-full h-auto object-cover mx-auto" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'">
                
                <div style="display:none" class="flex-col items-center justify-center py-12 text-gray-400 bg-gray-50 h-64">
                    <i class="fas fa-image fa-3x mb-3"></i>
                    <p class="text-center font-medium">è«‹å°‡ <strong>è¡Œç¨‹è¡¨.jpg</strong><br>æ”¾åœ¨æ­¤è³‡æ–™å¤¾ä¸­</p>
                </div>

                <div class="img-zoom-hint">
                    <span class="text-sm font-bold flex items-center bg-black/60 px-4 py-2 rounded-full backdrop-blur-md border border-white/20 shadow-lg">
                        <i class="fas fa-search-plus mr-2 text-yellow-300"></i>é»æ“Šæ”¾å¤§æŸ¥çœ‹å®Œæ•´è¡Œç¨‹ (æ”¯æ´æåˆç¸®æ”¾)
                    </span>
                </div>
            </div>
        </button>
    </div>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-4 max-w-4xl relative z-10">

        <!-- Day 1 (Content Omitted for brevity, identical to previous version) -->
        <div class="mb-16">
            <div class="sticky top-0 z-20 bg-[#fcf8f3] pt-2 pb-6">
                <h2 class="text-2xl md:text-3xl font-bold text-red-900 flex items-center bg-white p-4 rounded-xl shadow-md border-l-8 border-amber-600">
                    <span class="bg-amber-600 text-white py-1 px-3 rounded-full mr-3 text-lg font-mono">Day 1</span>
                    <div class="flex flex-col md:flex-row md:items-center">
                        <span>12/2 (ä¸€)</span>
                        <span class="hidden md:inline mx-2">-</span>
                        <span class="text-base md:text-2xl text-gray-600 md:text-red-900 mt-1 md:mt-0">æ­¦é™µè¾²å ´èˆ‡æ¢¨å±±é¢¨è¯</span>
                    </div>
                </h2>
            </div>

            <div class="relative pl-6 md:pl-10 space-y-8 mt-4">
                <div class="timeline-line hidden md:block"></div>

                <!-- 07:00 äº¤é€š -->
                <div class="relative flex flex-col md:flex-row gap-4 transport-highlight bg-white p-5 rounded-xl event-card">
                    <div class="md:w-36 flex-shrink-0 flex md:flex-col items-center md:items-start text-blue-700 font-bold text-xl">
                        <i class="fas fa-bus md:hidden mr-2"></i>07:00
                    </div>
                    <div class="flex-grow w-full">
                        <h3 class="text-xl md:text-2xl font-bold text-gray-800 mb-1">ç¾…æ±è½‰é‹ç«™ å‡ºç™¼
                            <a href="https://maps.app.goo.gl/RVtVDZkfwmzyTD5U9" target="_blank" class="text-blue-500 hover:text-blue-700 ml-2 relative z-20"><i class="fas fa-map-marked-alt text-lg"></i></a>
                        </h3>
                        <div class="text-gray-600 mb-2 text-sm md:text-base"><i class="fas fa-bus-alt text-blue-500 mr-2"></i>æ­ä¹˜åœ‹å…‰å®¢é‹ 1764 å¾€æ¢¨å±±</div>
                        <p class="text-sm text-gray-600 bg-blue-50 p-3 rounded-lg border border-blue-100"><i class="fas fa-route mr-1"></i>è»Šç¨‹ç´„ 3 å°æ™‚ï¼Œä¸­é€”æœƒåœ¨å—å±±æ‘ä¼‘æ¯ã€‚</p>
                        
                        <!-- ç­†è¨˜å€ -->
                        <div class="mt-4 pt-3 border-t border-gray-100">
                            <div class="flex justify-between items-center mb-1">
                                <label class="text-xs text-gray-500 font-medium"><i class="fas fa-pen mr-1"></i>å€‹äººå‚™è¨»</label>
                                <span class="save-indicator" id="saved-note-d1-0700"><i class="fas fa-check-circle mr-1"></i>å·²è‡ªå‹•å„²å­˜</span>
                            </div>
                            <textarea id="note-d1-0700" class="note-area w-full p-3 rounded-lg text-sm text-gray-700 resize-y focus:outline-none" rows="2" placeholder="ä¾‹å¦‚ï¼šè¨˜å¾—å¸¶æšˆè»Šè—¥..."></textarea>
                        </div>
                    </div>
                </div>

                <!-- 10:00 æŠµé” -->
                <div class="relative flex flex-col md:flex-row gap-4 bg-white p-5 rounded-xl event-card">
                    <div class="md:w-36 flex-shrink-0 flex md:flex-col items-center md:items-start text-gray-600 font-bold text-xl">
                        <i class="fas fa-map-marker-alt md:hidden mr-2"></i>10:00
                    </div>
                    <div class="flex-grow w-full">
                        <h3 class="text-xl md:text-2xl font-bold text-gray-800 mb-1">æŠµé” æ­¦é™µè¾²å ´</h3>
                        <div class="text-gray-600 mb-2 text-sm md:text-base">
                            <span class="bg-green-100 text-green-800 text-xs px-3 py-1 rounded-full font-medium shadow-sm inline-block mb-1">è¡Œæå¯„æ”¾</span>
                            è«‹è‡³å…¬è»Šç«™ç‰Œå°é¢çš„ <strong>æ«»èŠ±è¶…å•†</strong> å¯„æ”¾è¡Œæï¼ˆå…è²»ï¼‰ã€‚
                        </div>

                        <!-- ç­†è¨˜å€ -->
                        <div class="mt-4 pt-3 border-t border-gray-100">
                            <div class="flex justify-between items-center mb-1">
                                <label class="text-xs text-gray-500 font-medium"><i class="fas fa-pen mr-1"></i>å‚™è¨»</label>
                                <span class="save-indicator" id="saved-note-d1-1000"><i class="fas fa-check-circle mr-1"></i>å„²å­˜</span>
                            </div>
                            <textarea id="note-d1-1000" class="note-area w-full p-3 rounded-lg text-sm text-gray-700 resize-y focus:outline-none" rows="1"></textarea>
                        </div>
                    </div>
                </div>

                <!-- 10:15 - 14:10 è³æ¥“é‡é» -->
                <div class="relative flex flex-col md:flex-row gap-4 maple-highlight p-5 rounded-xl event-card">
                    <div class="md:w-36 flex-shrink-0 flex md:flex-col items-center md:items-start text-red-800 font-bold text-xl">
                        <i class="fas fa-camera md:hidden mr-2"></i>10:15
                    </div>
                    <div class="flex-grow w-full">
                        <h3 class="text-xl md:text-2xl font-bold text-red-900 mb-2">
                            <i class="fab fa-envira mr-2"></i>æ­¦é™µè¾²å ´ è³æ¥“ 
                            <a href="https://maps.app.goo.gl/ncVJD6GbqgrcURb27" target="_blank" class="text-red-500 hover:text-red-700 ml-3 relative z-20"><i class="fas fa-map-marked-alt text-lg"></i></a>
                        </h3>
                        
                        <div class="flex flex-wrap items-center gap-2 mb-4">
                            <span class="text-sm text-red-700 font-medium"><i class="far fa-clock mr-1"></i>ç´„ 4 å°æ™‚</span>
                            <span class="bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full border border-green-200 font-medium">
                                <i class="fas fa-ticket-alt mr-1"></i>å…¨ç¥¨ $130
                            </span>
                        </div>

                        <div class="bg-white/80 p-3 rounded-lg border border-red-200 mb-2 shadow-inner text-sm">
                            <h4 class="font-bold text-red-800 mb-1"><i class="fas fa-map-signs mr-1"></i>æ¨è–¦è·¯ç·šï¼š</h4>
                            <p class="text-gray-700">éŠå®¢ä¸­å¿ƒå‘¨é‚Š â” æ¥“æ—å°é¤¨ â” æ­¦é™µèŒ¶èŠ</p>
                        </div>

                        <!-- ç­†è¨˜å€ -->
                        <div class="mt-4 pt-3 border-t border-red-100/50">
                            <div class="flex justify-between items-center mb-1">
                                <label class="text-xs text-red-800/70 font-medium"><i class="fas fa-pen mr-1"></i>è³æ¥“ç­†è¨˜</label>
                                <span class="save-indicator" id="saved-note-d1-1015"><i class="fas fa-check-circle mr-1"></i>å„²å­˜</span>
                            </div>
                            <textarea id="note-d1-1015" class="note-area w-full p-3 rounded-lg text-sm text-gray-700 resize-y focus:outline-none" rows="2" placeholder="ä¾‹å¦‚ï¼šè¦åœ¨èŒ¶èŠè²·ä¼´æ‰‹ç¦®..."></textarea>
                        </div>
                    </div>
                </div>

                <!-- 14:20 äº¤é€š -->
                <div class="relative flex flex-col md:flex-row gap-4 transport-highlight bg-white p-5 rounded-xl event-card">
                    <div class="md:w-36 flex-shrink-0 flex md:flex-col items-center md:items-start text-blue-700 font-bold text-xl">
                        <i class="fas fa-bus md:hidden mr-2"></i>14:20
                    </div>
                    <div class="flex-grow w-full">
                        <h3 class="text-xl md:text-2xl font-bold text-gray-800 mb-1">æ­è»Šå‰å¾€æ¢¨å±±</h3>
                        <p class="text-gray-600 text-sm md:text-base">æ­ä¹˜å…¬è»Š/æ¥é§è»Šï¼ˆ14:20 æˆ– 15:19 ç­æ¬¡ï¼‰ï¼Œè»Šç¨‹ç´„ 1 å°æ™‚ã€‚</p>
                        <textarea id="note-d1-1420" class="mt-3 note-area w-full p-2 rounded-lg text-sm text-gray-700 resize-y focus:outline-none" rows="1" placeholder="å‚™è¨»..."></textarea>
                    </div>
                </div>

                <!-- 15:30 æŠµé” -->
                <div class="relative flex flex-col md:flex-row gap-4 bg-white p-5 rounded-xl event-card">
                    <div class="md:w-36 flex-shrink-0 flex md:flex-col items-center md:items-start text-gray-600 font-bold text-xl">
                        <i class="fas fa-phone-alt md:hidden mr-2"></i>15:30
                    </div>
                    <div class="flex-grow w-full">
                        <h3 class="text-xl md:text-2xl font-bold text-gray-800 mb-1">æŠµé”æ¢¨å±± & è¯ç¹«æ¥é§</h3>
                        <div class="bg-yellow-50 border-l-4 border-yellow-500 p-3 my-2 rounded-lg text-sm md:text-base">
                            <p class="font-bold text-gray-800"><i class="fas fa-hotel mr-2 text-yellow-600"></i>ç‡•è¯æ¨“å¤§æ—…ç¤¾
                                <a href="https://www.google.com/maps/search/?api=1&query=%E7%87%95%E8%8F%AF%E6%A8%93%E5%A4%A7%E6%97%85%E7%A4%BE" target="_blank" class="text-yellow-600 hover:text-yellow-800 ml-2 relative z-20"><i class="fas fa-map-marked-alt text-lg"></i></a>
                            </p>
                            <p class="mt-1">é›»è©±ï¼š<a href="tel:0425989511" class="text-blue-600 underline relative z-20">04-25989511</a></p>
                        </div>
                        <textarea id="note-d1-1530" class="mt-2 note-area w-full p-2 rounded-lg text-sm text-gray-700 resize-y focus:outline-none" rows="1" placeholder="ä½å®¿å‚™è¨»..."></textarea>
                    </div>
                </div>

                <!-- 16:00 å…¥ä½ -->
                <div class="relative flex flex-col md:flex-row gap-4 bg-white p-5 rounded-xl event-card">
                    <div class="md:w-36 flex-shrink-0 flex md:flex-col items-center md:items-start text-gray-600 font-bold text-xl">
                        <i class="fas fa-suitcase-rolling md:hidden mr-2"></i>16:00
                    </div>
                    <div class="flex-grow w-full">
                        <h3 class="text-xl md:text-2xl font-bold text-gray-800 mb-1">è¾¦ç†å…¥ä½</h3>
                        <p class="text-gray-600 text-sm md:text-base">å…¥ä½ç‡•è¯æ¨“å¤§æ—…ç¤¾ï¼ˆå«æ—©é¤ $2500ï¼‰ã€‚</p>
                    </div>
                </div>

                <!-- å‚æ™š æ¼«éŠ -->
                <div class="relative flex flex-col md:flex-row gap-4 bg-gradient-to-r from-purple-50 to-white p-5 rounded-xl event-card border border-purple-100">
                    <div class="md:w-36 flex-shrink-0 flex md:flex-col items-center md:items-start text-purple-700 font-bold text-xl">
                        <i class="fas fa-moon md:hidden mr-2"></i>å‚æ™š
                    </div>
                    <div class="flex-grow w-full">
                        <h3 class="text-xl md:text-2xl font-bold text-purple-900 mb-2">æ¢¨å±±æ¼«éŠ</h3>
                        <div class="space-y-3 text-sm md:text-base">
                            <div>
                                <h4 class="font-bold text-gray-800"><i class="fas fa-landmark mr-2 text-purple-500"></i>æ¢¨å±±è³“é¤¨
                                    <a href="https://www.google.com/maps/search/?api=1&query=%E6%A2%A8%E5%B1%B1%E8%B3%93%E9%A4%A8" target="_blank" class="text-purple-500 hover:text-purple-700 ml-2 relative z-20"><i class="fas fa-map-marked-alt"></i></a>
                                </h4>
                                <p class="text-gray-600 ml-6">å…¨å°æœ€é«˜å®®æ®¿å¼å»ºç¯‰ã€‚å¾Œæ–¹<strong>ã€Œæ¥“ä¹‹è°·ã€</strong>å¯è³æ¥“ã€è§€æ˜Ÿã€‚</p>
                            </div>
                            <div>
                                <h4 class="font-bold text-gray-800"><i class="fas fa-university mr-2 text-purple-500"></i>æ–‡ç‰©é™³åˆ—é¤¨
                                    <a href="https://www.google.com/maps/search/?api=1&query=%E6%A2%A8%E5%B1%B1%E6%96%87%E7%89%A9%E9%99%B3%E5%88%97%E9%A4%A8" target="_blank" class="text-purple-500 hover:text-purple-700 ml-2 relative z-20"><i class="fas fa-map-marked-alt"></i></a>
                                </h4>
                                <p class="text-gray-600 ml-6">äº†è§£ä¸­æ©«æ­·å²èˆ‡æ³°é›…æ—æ–‡åŒ–ã€‚</p>
                            </div>
                        </div>
                    </div>
                </div>

                 <!-- æ™šé¤ -->
                 <div class="relative flex flex-col md:flex-row gap-4 bg-white p-5 rounded-xl event-card">
                    <div class="md:w-36 flex-shrink-0 flex md:flex-col items-center md:items-start text-gray-600 font-bold text-xl">
                        <i class="fas fa-utensils md:hidden mr-2"></i>æ™šé¤
                    </div>
                    <div class="flex-grow w-full">
                        <h3 class="text-xl md:text-2xl font-bold text-gray-800 mb-1">æ¢¨å±±è¡—å€ç”¨é¤</h3>
                        <p class="text-gray-600 text-sm md:text-base">æ¨è–¦ï¼šç•¶åœ°é«˜å±±è”¬èœã€å­£ç¯€æ°´æœï¼ˆè˜‹æœï¼‰ã€‚</p>
                        <textarea id="note-d1-din" class="mt-3 note-area w-full p-2 rounded-lg text-sm text-gray-700 resize-y focus:outline-none" rows="1" placeholder="æ™šé¤æƒ³æ³•..."></textarea>
                    </div>
                </div>
            </div>
        </div>

        <!-- Day 2 -->
        <div class="mb-16">
            <div class="sticky top-0 z-20 bg-[#fcf8f3] pt-2 pb-6">
                <h2 class="text-2xl md:text-3xl font-bold text-orange-800 flex items-center bg-white p-4 rounded-xl shadow-md border-l-8 border-orange-600">
                    <span class="bg-orange-600 text-white py-1 px-3 rounded-full mr-3 text-lg font-mono">Day 2</span>
                    <div class="flex flex-col md:flex-row md:items-center">
                        <span>12/3 (äºŒ)</span>
                        <span class="hidden md:inline mx-2">-</span>
                        <span class="text-base md:text-2xl text-gray-600 md:text-orange-900 mt-1 md:mt-0">ç¦å£½å±±è¾²å ´èˆ‡å›ç¨‹</span>
                    </div>
                </h2>
            </div>

            <div class="relative pl-6 md:pl-10 space-y-8 mt-4">
                <div class="timeline-line hidden md:block"></div>

                <!-- 07:30 æ—©é¤ -->
                <div class="relative flex flex-col md:flex-row gap-4 bg-white p-5 rounded-xl event-card">
                    <div class="md:w-36 flex-shrink-0 flex md:flex-col items-center md:items-start text-gray-600 font-bold text-xl">
                        <i class="fas fa-coffee md:hidden mr-2"></i>07:30
                    </div>
                    <div class="flex-grow w-full">
                        <h3 class="text-xl md:text-2xl font-bold text-gray-800 mb-1">æ—©é¤èˆ‡é€€æˆ¿</h3>
                        <p class="text-gray-600 text-sm md:text-base">äº«ç”¨æ°‘å®¿æ—©é¤ã€‚</p>
                    </div>
                </div>

                <!-- 08:30 å¯„æ”¾ -->
                <div class="relative flex flex-col md:flex-row gap-4 bg-white p-5 rounded-xl event-card">
                    <div class="md:w-36 flex-shrink-0 flex md:flex-col items-center md:items-start text-gray-600 font-bold text-xl">
                        <i class="fas fa-luggage-cart md:hidden mr-2"></i>08:30
                    </div>
                    <div class="flex-grow w-full">
                        <h3 class="text-xl md:text-2xl font-bold text-gray-800 mb-1">å¯„æ”¾è¡Œæ
                            <a href="https://maps.app.goo.gl/2rqs7soqmn3m8p9V8" target="_blank" class="text-blue-500 hover:text-blue-700 ml-2 relative z-20"><i class="fas fa-map-marked-alt text-lg"></i></a>
                        </h3>
                        <div class="bg-red-50 text-red-800 p-3 rounded text-sm md:text-base border border-red-200 shadow-sm">
                            <i class="fas fa-exclamation-circle mr-1"></i>
                            <strong>é‡è¦ï¼š</strong>è«‹å”èª¿æ°‘å®¿ï¼Œé€€æˆ¿å¾Œé€æ‚¨åˆ° <strong>æ¢¨å±±éŠå®¢ä¸­å¿ƒ</strong> æˆ– <strong>æ¢¨å±±ç«™</strong> å¯„æ”¾è¡Œæï¼ˆå…è²»ï¼‰ã€‚
                        </div>
                    </div>
                </div>

                <!-- 09:15 äº¤é€š -->
                <div class="relative flex flex-col md:flex-row gap-4 transport-highlight bg-white p-5 rounded-xl event-card">
                    <div class="md:w-36 flex-shrink-0 flex md:flex-col items-center md:items-start text-blue-700 font-bold text-xl">
                        <i class="fas fa-bus md:hidden mr-2"></i>09:15
                    </div>
                    <div class="flex-grow w-full">
                        <h3 class="text-xl md:text-2xl font-bold text-gray-800 mb-1">å‰å¾€ç¦å£½å±±è¾²å ´</h3>
                        <p class="text-gray-600 text-sm md:text-base">æ­ä¹˜ 866å€1 ç·šå…¬è»Šï¼Œé è¨ˆ 09:27 æŠµé”ã€‚</p>
                        <textarea id="note-d2-0915" class="mt-3 note-area w-full p-2 rounded-lg text-sm text-gray-700 resize-y focus:outline-none" rows="1" placeholder="å‚™è¨»..."></textarea>
                    </div>
                </div>

                <!-- 09:30 è³æ¥“ -->
                <div class="relative flex flex-col md:flex-row gap-4 maple-highlight p-5 rounded-xl event-card">
                    <div class="md:w-36 flex-shrink-0 flex md:flex-col items-center md:items-start text-red-800 font-bold text-xl">
                        <i class="fas fa-camera md:hidden mr-2"></i>09:30
                    </div>
                    <div class="flex-grow w-full">
                        <h3 class="text-xl md:text-2xl font-bold text-red-900 mb-2">
                            <i class="fab fa-envira mr-2"></i>ç¦å£½å±±è¾²å ´ è³æ¥“
                            <a href="https://maps.app.goo.gl/8ZR4Wf84hMzRQ3sc6" target="_blank" class="text-red-500 hover:text-red-700 ml-3 relative z-20"><i class="fas fa-map-marked-alt text-lg"></i></a>
                        </h3>
                        
                        <div class="flex flex-wrap items-center gap-2 mb-4">
                            <span class="text-sm text-red-700 font-medium"><i class="far fa-clock mr-1"></i>ç´„ 2.5 å°æ™‚</span>
                            <span class="bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full border border-green-200 font-medium">
                                <i class="fas fa-ticket-alt mr-1"></i>å…¨ç¥¨ $80
                            </span>
                        </div>

                        <!-- ç¦å£½å±±è¾²å ´å°è¦½åœ°åœ–æŒ‰éˆ• -->
                        <div class="mb-4">
                            <button type="button" 
                                    class="w-full text-left bg-teal-50 p-2 rounded-lg border border-teal-200 transform transition active:scale-[0.98] cursor-pointer focus:outline-none focus:ring-2 focus:ring-teal-500/50 group" 
                                    onclick="openLightbox('SiteMapForFushoushanFarm.jpg.jfif')"
                                    style="touch-action: manipulation;">
                                <div class="flex items-center">
                                    <div class="w-16 h-16 mr-3 rounded overflow-hidden flex-shrink-0 border border-teal-100 relative">
                                        <img src="SiteMapForFushoushanFarm.jpg.jfif" alt="ç¦å£½å±±è¾²å ´å°è¦½åœ°åœ–" class="w-full h-full object-cover" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'">
                                        <div style="display:none" class="flex items-center justify-center w-full h-full bg-teal-100 text-teal-500">
                                            <i class="fas fa-map-marked-alt"></i>
                                        </div>
                                        <!-- ç¸®åœ–ä¸Šçš„æ”¾å¤§é¡åœ–ç¤º -->
                                        <div class="absolute inset-0 bg-black/20 md:bg-black/0 md:group-hover:bg-black/20 transition-colors flex items-center justify-center">
                                            <i class="fas fa-search-plus text-white opacity-80 md:opacity-0 md:group-hover:opacity-100 transition-opacity"></i>
                                        </div>
                                    </div>
                                    <div>
                                        <h4 class="font-bold text-teal-800 text-sm md:text-base">æŸ¥çœ‹ç¦å£½å±±è¾²å ´å°è¦½åœ°åœ–</h4>
                                        <p class="text-xs text-teal-600">é»æ“Šæ”¾å¤§æŸ¥çœ‹è©³ç´°åœ’å€ä½ç½® (æ”¯æ´æåˆç¸®æ”¾)</p>
                                    </div>
                                </div>
                            </button>
                        </div>

                        <!-- æ‘ºç–Šå¼æ™¯é»ä»‹ç´¹ (Content Omitted for brevity, identical to previous version) -->
                        <div class="mb-4">
                            <details class="group bg-white/80 rounded-lg border border-red-200 overflow-hidden shadow-sm">
                                <summary class="flex items-center justify-between p-3 cursor-pointer select-none bg-red-50 hover:bg-red-100 transition-colors">
                                    <span class="font-bold text-red-900 text-sm md:text-base"><i class="fas fa-map-signs mr-2 text-red-600"></i>æ™¯é»æ·±åº¦ä»‹ç´¹ (é»æ“Šå±•é–‹)</span>
                                    <span class="transition-transform duration-300 group-open:rotate-180">
                                        <i class="fas fa-chevron-down text-red-400"></i>
                                    </span>
                                </summary>
                                <div class="p-4 text-sm text-gray-700 space-y-5 bg-white">
                                    
                                    <!-- æ¾ç›§ -->
                                    <div class="border-l-4 border-red-800 pl-3">
                                        <h4 class="font-bold text-red-900 text-base mb-1">ğŸ æ¾ç›§ (æ‹›ç‰Œæ˜æ˜Ÿ/å¿…æ‹ç†±é»)</h4>
                                        <p class="leading-relaxed mb-2">è¾²å ´æœ€ç¶“å…¸æ™¯è§€ï¼å¤æ¨¸æœ¨é€ å»ºç¯‰å‘¨åœç’°ç¹æŒè‘‰æ¥“èˆ‡éŠ€æã€‚ç´…é»ƒè‰²å½©äº¤ç¹”æ¥µå…¶æ¿ƒçƒˆã€‚</p>
                                        <div class="text-xs text-amber-800 bg-amber-50 p-2 rounded inline-block border border-amber-100">
                                            <strong>è²¼å¿ƒæé»ï¼š</strong>æƒ³æ‹æ·¨ç©ºç•«é¢ï¼Œå‹™å¿…æ¸…æ™¨6é»å‰å¡ä½ã€‚
                                        </div>
                                    </div>

                                    <!-- é´›é´¦æ¹– -->
                                    <div class="border-l-4 border-teal-600 pl-3">
                                        <h4 class="font-bold text-teal-800 text-base mb-1">ğŸŒ² é´›é´¦æ¹–æ™¯è§€æ­¥é“</h4>
                                        <p class="leading-relaxed">æ¸…æ™¨æˆ–å‚æ™šé›²éœ§ç¹šç¹æ™‚ï¼Œæ¹–å…‰å±±è‰²å€’å½±æœ€ç‚ºå¤¢å¹»è©©æ„ã€‚</p>
                                    </div>

                                    <!-- ä¸‰å¤§æ¨¹ç‹ -->
                                    <div class="border-l-4 border-red-500 pl-3">
                                        <h4 class="font-bold text-red-700 text-base mb-1">ğŸ ä¸‰å¤§æ¨¹ç‹</h4>
                                        <p class="leading-relaxed">è˜‹æœç‹å–®æ ªå³å«æ¥è¶…é40ç¨®å“ç¨®ï¼Œä»¤äººå˜–å˜–ç¨±å¥‡ã€‚</p>
                                    </div>

                                    <!-- è£½èŒ¶å»  -->
                                    <div class="border-l-4 border-green-600 pl-3">
                                        <h4 class="font-bold text-green-800 text-base mb-1">ğŸµ è£½èŒ¶å» èˆ‡èŒ¶åœ’</h4>
                                        <p class="leading-relaxed">ç¦å£½é•·æ˜¥èŒ¶ç”¢åœ°ï¼Œç·šæ¢å„ªç¾é–‹é—Šã€‚</p>
                                    </div>

                                </div>
                            </details>
                        </div>

                        <textarea id="note-d2-0930" class="mt-3 note-area w-full p-2 rounded-lg text-sm text-gray-700 resize-y focus:outline-none" rows="1" placeholder="è³æ¥“ç­†è¨˜..."></textarea>
                    </div>
                </div>

                <!-- 12:00 äº¤é€š -->
                <div class="relative flex flex-col md:flex-row gap-4 transport-highlight bg-white p-5 rounded-xl event-card">
                    <div class="md:w-36 flex-shrink-0 flex md:flex-col items-center md:items-start text-blue-700 font-bold text-xl">
                        <i class="fas fa-bus md:hidden mr-2"></i>12:00
                    </div>
                    <div class="flex-grow w-full">
                        <h3 class="text-xl md:text-2xl font-bold text-gray-800 mb-1">è¿”å›æ¢¨å±±</h3>
                        <p class="text-gray-600 text-sm md:text-base">æ­ä¹˜ 866å€1 ç·šå…¬è»Šè¿”å›æ¢¨å±±ç«™ã€‚</p>
                    </div>
                </div>

                <!-- 12:20 åˆé¤ -->
                <div class="relative flex flex-col md:flex-row gap-4 bg-white p-5 rounded-xl event-card">
                    <div class="md:w-36 flex-shrink-0 flex md:flex-col items-center md:items-start text-gray-600 font-bold text-xl">
                        <i class="fas fa-utensils md:hidden mr-2"></i>12:20
                    </div>
                    <div class="flex-grow w-full">
                        <h3 class="text-xl md:text-2xl font-bold text-gray-800 mb-1">åˆé¤æ™‚é–“</h3>
                        <p class="text-gray-600 text-sm md:text-base">è¿…é€Ÿå–å›è¡Œæï¼Œä¸¦åœ¨æ¢¨å±±è»Šç«™é™„è¿‘ç°¡å–®ç”¨é¤ã€‚</p>
                        <textarea id="note-d2-1220" class="mt-3 note-area w-full p-2 rounded-lg text-sm text-gray-700 resize-y focus:outline-none" rows="1" placeholder="åˆé¤ç­†è¨˜..."></textarea>
                    </div>
                </div>

                <!-- 13:00 äº¤é€š -->
                <div class="relative flex flex-col md:flex-row gap-4 transport-highlight bg-white p-5 rounded-xl event-card">
                    <div class="md:w-36 flex-shrink-0 flex md:flex-col items-center md:items-start text-blue-700 font-bold text-xl">
                        <i class="fas fa-bus md:hidden mr-2"></i>13:00
                    </div>
                    <div class="flex-grow w-full">
                        <h3 class="text-xl md:text-2xl font-bold text-gray-800 mb-1">æ¢¨å±±ç«™ è¿”ç¨‹</h3>
                        <p class="text-gray-600 text-sm md:text-base">æ­ä¹˜åœ‹å…‰å®¢é‹ 1764 ç·šå¾€ç¾…æ±ã€‚</p>
                    </div>
                </div>

                 <!-- 16:30 çµæŸ -->
                 <div class="relative flex flex-col md:flex-row gap-4 bg-amber-50 p-6 rounded-xl shadow-md opacity-95 border border-amber-200">
                    <div class="md:w-36 flex-shrink-0 flex md:flex-col items-center md:items-start text-amber-800 font-bold text-xl">
                        <i class="fas fa-home md:hidden mr-2"></i>16:30
                    </div>
                    <div class="flex-grow w-full">
                        <h3 class="text-xl md:text-2xl font-bold text-amber-900 mb-1">æŠµé” ç¾…æ±è½‰é‹ç«™
                            <a href="https://maps.app.goo.gl/RVtVDZkfwmzyTD5U9" target="_blank" class="text-amber-700 hover:text-amber-900 ml-2"><i class="fas fa-map-marked-alt text-lg"></i></a>
                        </h3>
                        <p class="text-amber-800 font-medium text-sm md:text-base">åœ“æ»¿çµæŸæ„‰å¿«çš„æ¢¨å±±è³æ¥“ä¹‹æ—…ï¼</p>
                    </div>
                </div>

            </div>
        </div>
    </main>

    <footer class="bg-gray-800 text-gray-300 py-10 text-center mt-12 pb-24">
        <p class="text-sm">ç¥æ‚¨æ—…é€”æ„‰å¿«ã€ç´…è‘‰æ»¿è¼‰ï¼</p>
        <p class="text-xs mt-2 text-gray-500">è¡Œç¨‹æ™‚é–“åƒ…ä¾›åƒè€ƒï¼Œè«‹ä¾å¯¦éš›è·¯æ³èˆ‡è»Šç­ç‚ºæº–ã€‚</p>
    </footer>

    <!-- Lightbox Modal -->
    <div id="lightbox" class="lightbox" onclick="closeLightbox(event)">
        <div class="lightbox-close" onclick="closeLightbox(event)">&times;</div>
        <img id="lightbox-img" class="lightbox-img" src="" alt="æ”¾å¤§åœ°åœ–">
    </div>

    <!-- JavaScript Script - æ•´åˆæåˆç¸®æ”¾ (Pinch-to-Zoom) å’Œæ‹–æ›³åŠŸèƒ½ -->
    <script>
        // --- å‚™è¨»è‡ªå‹•å„²å­˜åŠŸèƒ½ ---
        document.addEventListener('DOMContentLoaded', function() {
            const notes = document.querySelectorAll('textarea[id^="note-"]');
            notes.forEach(note => {
                const noteId = note.id;
                const savedValue = localStorage.getItem(noteId);
                const indicatorId = 'saved-' + noteId;
                const indicator = document.getElementById(indicatorId);
                if (savedValue) note.value = savedValue;
                let timeoutId;
                note.addEventListener('input', function() {
                    localStorage.setItem(noteId, this.value);
                    clearTimeout(timeoutId);
                    timeoutId = setTimeout(() => {
                        if (indicator) {
                            indicator.classList.add('show');
                            setTimeout(() => indicator.classList.remove('show'), 2000);
                        }
                    }, 500);
                });
            });
        });

        // --- åœ–ç‰‡ Lightbox ç¸®æ”¾èˆ‡æ‹–æ›³åŠŸèƒ½ ---
        const lightbox = document.getElementById('lightbox');
        const lightboxImg = document.getElementById('lightbox-img');

        let scale = 1;
        let translateX = 0;
        let translateY = 0;
        let initialPinchDistance = null;
        let isDragging = false;
        let lastX = 0;
        let lastY = 0;
        
        // é‡è¨­åœ–ç‰‡ç‹€æ…‹
        function resetImageState() {
            scale = 1;
            translateX = 0;
            translateY = 0;
            lightboxImg.style.transform = `translate(0px, 0px) scale(1)`;
        }

        // æ‡‰ç”¨è®Šæ›
        function applyTransform() {
            lightboxImg.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scale})`;
        }

        // é™åˆ¶æ‹–æ›³ç¯„åœ
        function clamp(value, min, max) {
            return Math.min(Math.max(value, min), max);
        }

        // æ‰“é–‹ç‡ˆç®±
        function openLightbox(imageSrc) {
            resetImageState();
            lightboxImg.src = imageSrc;
            lightbox.classList.add('active');
            document.body.style.overflow = 'hidden'; 
            lightboxImg.style.cursor = 'grab'; // é è¨­ç‚ºå¯æ‹–æ›³
        }

        // é—œé–‰ç‡ˆç®±
        function closeLightbox(event) {
            if (event.target.id === 'lightbox' || event.target.classList.contains('lightbox-close')) {
                lightbox.classList.remove('active');
                document.body.style.overflow = '';
                resetImageState(); // é—œé–‰æ™‚é‡è¨­ç‹€æ…‹
            }
        }
        
        // è§¸æ§äº‹ä»¶è™•ç†
        lightbox.addEventListener('touchstart', (e) => {
            if (e.target !== lightboxImg) return;
            e.preventDefault(); 
            e.stopPropagation();

            if (e.touches.length === 2) {
                // æåˆé–‹å§‹
                const dx = e.touches[0].clientX - e.touches[1].clientX;
                const dy = e.touches[0].clientY - e.touches[1].clientY;
                initialPinchDistance = Math.sqrt(dx * dx + dy * dy);
                isDragging = false; 
            } else if (e.touches.length === 1 && scale > 1) {
                // å–®æŒ‡æ‹–æ›³é–‹å§‹ (åƒ…åœ¨æ”¾å¤§æ™‚å…è¨±æ‹–æ›³)
                isDragging = true;
                lastX = e.touches[0].clientX;
                lastY = e.touches[0].clientY;
            }
        }, { passive: false });

        lightbox.addEventListener('touchmove', (e) => {
            if (e.target !== lightboxImg) return;
            e.preventDefault();
            e.stopPropagation();

            if (e.touches.length === 2 && initialPinchDistance !== null) {
                // æåˆç¸®æ”¾ä¸­
                const dx = e.touches[0].clientX - e.touches[1].clientX;
                const dy = e.touches[0].clientY - e.touches[1].clientY;
                const currentDistance = Math.sqrt(dx * dx + dy * dy);

                const scaleFactor = currentDistance / initialPinchDistance;
                scale = clamp(scale * scaleFactor, 1, 5); // é™åˆ¶æœ€å°1å€ï¼Œæœ€å¤§5å€

                // é‡è¨­åˆå§‹è·é›¢ï¼Œä»¥ä¾¿ä¸‹æ¬¡è¨ˆç®—
                initialPinchDistance = currentDistance; 
                applyTransform();
            } else if (isDragging && e.touches.length === 1) {
                // å–®æŒ‡æ‹–æ›³ä¸­
                const deltaX = e.touches[0].clientX - lastX;
                const deltaY = e.touches[0].clientY - lastY;

                // é™åˆ¶æ‹–æ›³ç¯„åœ (ç°¡åŒ–ç‰ˆï¼šé˜²æ­¢åœ–ç‰‡å®Œå…¨æ‹–å‡ºè¦–çª—)
                const imageWidth = lightboxImg.offsetWidth * scale;
                const imageHeight = lightboxImg.offsetHeight * scale;
                const windowWidth = window.innerWidth;
                const windowHeight = window.innerHeight;
                
                const maxX = Math.max(0, (imageWidth - windowWidth) / 2);
                const maxY = Math.max(0, (imageHeight - windowHeight) / 2);

                translateX = clamp(translateX + deltaX, -maxX, maxX);
                translateY = clamp(translateY + deltaY, -maxY, maxY);

                lastX = e.touches[0].clientX;
                lastY = e.touches[0].clientY;
                applyTransform();
            }
        }, { passive: false });

        lightbox.addEventListener('touchend', (e) => {
            initialPinchDistance = null;
            isDragging = false;
            
            // å¦‚æœç¸®æ”¾å¾Œå°æ–¼1å€ï¼Œè‡ªå‹•å½ˆå›1å€
            if (scale < 1) {
                scale = 1;
                translateX = 0;
                translateY = 0;
                applyTransform();
            }
        });
        
        // æ»‘é¼ æ»¾è¼ªç¸®æ”¾ (é›»è…¦ç‰ˆè¼”åŠ©)
        lightbox.addEventListener('wheel', (e) => {
            if (e.target !== lightboxImg) return;
            e.preventDefault();
            
            const delta = e.deltaY * -0.01;
            const newScale = clamp(scale + delta, 1, 5);
            
            // ä¿æŒåœ–ç‰‡ä¸­å¿ƒé»ä¸è®Š
            if (newScale !== scale) {
                const rect = lightboxImg.getBoundingClientRect();
                const mouseX = e.clientX - rect.left;
                const mouseY = e.clientY - rect.top;

                const centerAdjustX = (mouseX - rect.width / 2) * (1 / scale - 1 / newScale);
                const centerAdjustY = (mouseY - rect.height / 2) * (1 / scale - 1 / newScale);

                // ä¿æŒåœ–ç‰‡å±…ä¸­
                translateX = translateX + centerAdjustX;
                translateY = translateY + centerAdjustY;

                scale = newScale;
                applyTransform();
            }
        }, { passive: false });
        
    </script>

</body>
</html>